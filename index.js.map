{"version":3,"file":"index.js","sources":["../src/js/slider.js","../src/js/render-function.js","../src/js/fetchObjects.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  const sliderWrapper = document.querySelector('.slides-list');\n  const slides = document.querySelectorAll(\".slide\");\n  const prevButton = document.getElementById(\"prev\");\n  const nextButton = document.getElementById(\"next\");\n  let currentSlide = 0;\n  const totalSlides = slides.length;\n  const updateSliderPosition = () => {\n    sliderWrapper.style.transform = `translateX(-${currentSlide * 100}%)`;\n  };\n  const updateButtons = () => {\n    prevButton.disabled = currentSlide === 0;\n    nextButton.disabled = currentSlide === totalSlides - 1;\n  };\n  const goToNextSlide = () => {\n    if (currentSlide < totalSlides - 1) {\n      currentSlide++;\n      updateSliderPosition();\n      updateButtons();\n    }\n  };\n  const goToPrevSlide = () => {\n    if (currentSlide > 0) {\n      currentSlide--;\n      updateSliderPosition();\n      updateButtons();\n    }\n  };\n  nextButton.addEventListener('click', goToNextSlide);\n  prevButton.addEventListener('click', goToPrevSlide);\n  updateButtons();\n});","export const createObjectsCard = objects =>\n  objects.map(objectInfo => `\n    <li class=\"objects-item\">\n    <div class=\"icon-container\">\n    <svg class=\"icon-prev\" width=\"40\" height=\"24\">\n    <use xlink:href=\"../img/svg/sprite.svg#icon-pin\"></use>\n    </svg>\n    </div>\n    <div class=\"container-year-type\">\n    <p class=\"year\">${objectInfo.year}</p>\n    <p class=\"type\">${objectInfo.type}</p>\n    </div>\n    <img src=\"${objectInfo.img}\" alt=\"${objectInfo.name}\" >\n    <h3 class=\"title-card\"> \"${objectInfo.name}\"</h3>\n    <p class=\"types-work\">Види робіт</p>\n    <ul class=\"list-tags\">\n    ${objectInfo.tags.map(tag => `<li class=\"item-tags\">${tag}</li>`).join(\"\")}\n    </ul>\n    </li>\n    `).join(\"\");","import { createObjectsCard } from \"./render-function.js\";\nconst objectsList = document.querySelector(\".objects-list\");\nconst loadMoreBtn = document.querySelector(\".load-more\");\n\nlet allData = [];\nlet page = 1;\nconst limit = 3;\n\nasync function fetchData() {\n  try {\n    const response = await fetch(`https://test.smarto.agency/smarto_complexes_list.json`);\n    //кладемо отримані дані в масив\n    allData = await response.json();\n    renderItems();\n  } catch (error) {\n    objectsList.innerHTML = `<li style=\"color:red;\">Помилка: ${error.message}</li>`;\n  }\n}\nfunction renderItems() {\n  const end = page * limit; //1*3=3\n  //відображення 3 карток відразу.\n  const visibleItems = allData.slice(0, end);\n  //очистка списку перед ререндером\n  objectsList.innerHTML = \"\";\n  //генеруємо розмітку через функцію createObjectsCard\n  const cardsHTML = createObjectsCard(visibleItems);\n  //Вставляємо у список\n  objectsList.innerHTML = cardsHTML;\n\n  //Якщо кількість карток буде перевищувати чи дорівнює загальної кількості карток на сервері то кнопку приховали\n  if (visibleItems.length >= allData.length) {\n    loadMoreBtn.classList.add('is-hidden');\n    iziToast.info({\n      title: \"Готово\",\n      message: \"Усі об`єкти завантажені\",\n      position: \"topRight\",\n    });\n}\n  }\nloadMoreBtn.addEventListener(\"click\", () => {\n  page++;\n  renderItems();\n});\n// старт\nfetchData();"],"names":["sliderWrapper","slides","prevButton","nextButton","currentSlide","totalSlides","updateSliderPosition","updateButtons","goToNextSlide","goToPrevSlide","createObjectsCard","objects","objectInfo","tag","objectsList","loadMoreBtn","allData","page","limit","fetchData","renderItems","error","end","visibleItems","cardsHTML"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAgB,SAAS,cAAc,cAAc,EACrDC,EAAS,SAAS,iBAAiB,QAAQ,EAC3CC,EAAa,SAAS,eAAe,MAAM,EAC3CC,EAAa,SAAS,eAAe,MAAM,EACjD,IAAIC,EAAe,EACnB,MAAMC,EAAcJ,EAAO,OACrBK,EAAuB,IAAM,CACjCN,EAAc,MAAM,UAAY,eAAeI,EAAe,GAAG,IACrE,EACQG,EAAgB,IAAM,CAC1BL,EAAW,SAAWE,IAAiB,EACvCD,EAAW,SAAWC,IAAiBC,EAAc,CACzD,EACQG,EAAgB,IAAM,CACtBJ,EAAeC,EAAc,IAC/BD,IACAE,IACAC,IAEN,EACQE,EAAgB,IAAM,CACtBL,EAAe,IACjBA,IACAE,IACAC,IAEN,EACEJ,EAAW,iBAAiB,QAASK,CAAa,EAClDN,EAAW,iBAAiB,QAASO,CAAa,EAClDF,GACF,CAAC,EC/BM,MAAMG,EAAoBC,GAC/BA,EAAQ,IAAIC,GAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQNA,EAAW,IAAI;AAAA,sBACfA,EAAW,IAAI;AAAA;AAAA,gBAErBA,EAAW,GAAG,UAAUA,EAAW,IAAI;AAAA,+BACxBA,EAAW,IAAI;AAAA;AAAA;AAAA,MAGxCA,EAAW,KAAK,IAAIC,GAAO,yBAAyBA,CAAG,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA;AAAA,KAGzE,EAAE,KAAK,EAAE,EClBRC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAc,SAAS,cAAc,YAAY,EAEvD,IAAIC,EAAU,CAAA,EACVC,EAAO,EACX,MAAMC,EAAQ,EAEd,eAAeC,GAAY,CACzB,GAAI,CAGFH,EAAU,MAFO,MAAM,MAAM,uDAAuD,GAE3D,OACzBI,GACD,OAAQC,EAAO,CACdP,EAAY,UAAY,mCAAmCO,EAAM,OAAO,OACzE,CACH,CACA,SAASD,GAAc,CACrB,MAAME,EAAML,EAAOC,EAEbK,EAAeP,EAAQ,MAAM,EAAGM,CAAG,EAEzCR,EAAY,UAAY,GAExB,MAAMU,EAAYd,EAAkBa,CAAY,EAEhDT,EAAY,UAAYU,EAGpBD,EAAa,QAAUP,EAAQ,SACjCD,EAAY,UAAU,IAAI,WAAW,EACrC,SAAS,KAAK,CACZ,MAAO,SACP,QAAS,0BACT,SAAU,UAChB,CAAK,EAEF,CACHA,EAAY,iBAAiB,QAAS,IAAM,CAC1CE,IACAG,GACF,CAAC,EAEDD,EAAW"}